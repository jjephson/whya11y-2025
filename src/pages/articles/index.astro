---
import BlogLayout from '../../layouts/BlogLayout.astro';
import ContentCard from '../../components/ContentCard.astro';
import PageHeader from '../../components/PageHeader.astro';
import { getCollection } from 'astro:content';

const articles = await getCollection('articles');

// Sort articles by date (newest first)
const sortedArticles = articles.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---

<BlogLayout 
	title="Articles | WhyA11y"
	description="Explore our comprehensive guides on web accessibility best practices, techniques, and insights. Learn from expert interviews, case studies, and practical implementation guides."
>
	<PageHeader 
		title="All Articles"
		description="Explore our comprehensive guides on web accessibility best practices, techniques, and insights."
	/>
	<section class="articles-grid" id="articles-grid">
		{sortedArticles.map((article) => (
			<ContentCard
				title={article.data.title}
				description={article.data.description}
				href={`/articles/${article.slug}`}
				date={article.data.date}
				headingLevel="h2"
			/>
		))}
	</section>
</BlogLayout>

<style>

	.articles-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
		gap: var(--spacing-xl);
		max-width: var(--container-lg);
		margin: 0 auto;
	}

	@media (max-width: 768px) {
		.articles-grid {
			grid-template-columns: 1fr;
			gap: var(--spacing-2xl);
		}

	}
</style> 