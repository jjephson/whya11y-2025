---
import BlogLayout from '../../layouts/BlogLayout.astro';
import ContentCard from '../../components/ContentCard.astro';
import PageHeader from '../../components/PageHeader.astro';
import { getCollection } from 'astro:content';

const codeExamples = await getCollection('codeExamples');

// Sort code examples by date (newest first)
const sortedCodeExamples = codeExamples.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---

<BlogLayout 
	title="Code Examples | WhyA11y"
	description="Practical, accessible code snippets and patterns you can implement in your projects today. Learn about alt texts, error messages, skip links, focus indicators, and more accessibility techniques."
>
	<PageHeader 
		title="Code Examples"
		description="Practical, accessible code snippets and patterns you can implement in your projects today."
	/>
	<section class="examples-grid" id="examples-grid">
		{sortedCodeExamples.map((example) => (
			<ContentCard
				title={example.data.title}
				description={example.data.description}
				href={`/code-examples/${example.slug}`}
				date={example.data.date}
				headingLevel="h2"
			/>
		))}
	</section>
</BlogLayout>

<style>

	.examples-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
		gap: var(--spacing-xl);
		max-width: var(--container-lg);
		margin: 0 auto;
	}

	@media (max-width: 768px) {
		.examples-grid {
			grid-template-columns: 1fr;
			gap: var(--spacing-2xl);
		}

	}
</style> 