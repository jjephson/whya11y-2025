---
import BlogLayout from '../../layouts/BlogLayout.astro';
import ContentCard from '../../components/ContentCard.astro';
import { getCollection } from 'astro:content';

const codeExamples = await getCollection('codeExamples');

// Sort code examples by date (newest first)
const sortedCodeExamples = codeExamples.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());
---

<BlogLayout title="Code Examples | WhyA11y">
	<section class="page-header">
		<h1>Code Examples</h1>
		<p class="page-description">
			Practical, accessible code snippets and patterns you can implement in your projects today.
		</p>
	</section>
	<section class="examples-grid" id="examples-grid">
		{sortedCodeExamples.map((example) => (
			<ContentCard
				title={example.data.title}
				description={example.data.description}
				href={`/code-examples/${example.slug}`}
				date={example.data.date}
			/>
		))}
	</section>
</BlogLayout>

<style>
	.page-header {
		text-align: center;
		padding: var(--spacing-xl) 0 var(--spacing-3xl);
		max-width: var(--container-md);
		margin: 0 auto;
	}
	.page-header h1 {
		font-size: var(--text-5xl);
		margin-bottom: var(--spacing-md);
		color: var(--fg);
	}
	.page-description {
		font-size: var(--text-xl);
		line-height: var(--leading-relaxed);
		color: var(--fg-muted);
	}
	.examples-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
		gap: var(--spacing-xl);
		max-width: var(--container-lg);
		margin: 0 auto;
	}

	@media (max-width: 768px) {
		.page-header h1 {
			font-size: var(--text-4xl);
		}
		.page-description {
			font-size: var(--text-base);
		}
		.examples-grid {
			grid-template-columns: 1fr;
			gap: var(--spacing-2xl);
		}

	}
</style> 