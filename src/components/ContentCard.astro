---
export interface Props {
	title: string;
	description: string;
	href: string;
	date: string;
	className?: string;
	headingLevel?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
}

const { title, description, href, date, className = '', headingLevel = 'h2' } = Astro.props;
---

<article class={`content-card ${className}`}>
	{{
		h1: <h1 class="card-heading"><a href={href}>{title}</a></h1>,
		h2: <h2 class="card-heading"><a href={href}>{title}</a></h2>,
		h3: <h3 class="card-heading"><a href={href}>{title}</a></h3>,
		h4: <h4 class="card-heading"><a href={href}>{title}</a></h4>,
		h5: <h5 class="card-heading"><a href={href}>{title}</a></h5>,
		h6: <h6 class="card-heading"><a href={href}>{title}</a></h6>
	}[headingLevel]}
	<p>{description}</p>
	<time datetime={date}>{new Date(date).toLocaleDateString()}</time>
</article>

<style>
	.content-card {
		padding: var(--spacing-md);
		border: 1px solid var(--border);
		border-radius: var(--radius-md);
		background: var(--bg);
		transition: all 0.2s ease;
		overflow: hidden;
		min-height: 120px;
		display: flex;
		flex-direction: column;
	}
	.content-card:hover {
		border-color: var(--accent-primary);
		box-shadow: var(--shadow-lg);
	}
	.card-heading {
		margin: 0 0 var(--spacing-sm) 0;
		font-size: var(--text-lg);
		line-height: var(--leading-normal);
	}
	.card-heading a {
		color: var(--fg);
		text-decoration: underline;
		text-decoration-color: var(--accent-primary);
		text-underline-offset: 0.2em;
		text-decoration-thickness: 2px;
	}
	.card-heading a:hover,
	.card-heading a:focus,
	.card-heading a:active {
		color: var(--text-on-accent);
		text-decoration-color: var(--text-on-accent);
		text-decoration-thickness: 3px;
	}
	.content-card p {
		margin: 0 0 var(--spacing-md) 0;
		color: var(--fg-muted);
		font-size: var(--text-sm);
		line-height: var(--leading-normal);
		flex: 1;
	}
	.content-card time {
		font-size: var(--text-xs);
		color: var(--fg-muted);
	}
</style>
